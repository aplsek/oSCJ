# This file is modified temporarily to support SCJ. In the future this file
# should be reverted back to support RealtimeJVM and a new configuration
# file should be written.

## -threads=RealtimeJVM selects the RTSJ realtime threading model.
ovm.core.stitcher.ThreadServiceConfigurator \
	s3.core.stitcher.SCJJVMConfigurator

# Overrides the bootclasspath setting to put the real-time jar first
#-bootclasspath ovm_rt_user_realtime.jar ":" ovm_rt_user.jar ":" ovm_platform.jar 
-bootclasspath ovm_rt_user_scj.jar ":" ovm_rt_user.jar ":" ovm_platform.jar 

# Overrides user-domain entry point for RT config
-udmain         "org.ovmj.java.RealtimeLauncher"

# redefine the DomainDirectory so that our updated bootclasspath is used and
# to use a real-time domain directory
ovm.core.domain.DomainDirectory$Interface	\
                s3.core.domain.S3RealtimeDomainDirectory(xdpath, \
						 bootclasspath, \
						 classpath, \
						 reflective-method-trace, \
						 reflective-class-trace)

# The size of the per-thread memory area used to hold executive-domain 
# temporary data.
-scratch-pad-size "8k"

# Defines per-thread and per-domain areas to hold temporaries
ovm.core.services.memory.MemoryPolicy \
	s3.services.java.realtime.RealtimeMemoryPolicy(scratch-pad-size)

