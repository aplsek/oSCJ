## -model=MostlyCopyingSplitRegions-B_M_F_H selects the mostly copying 
## 	collector with scoped memory support.  It must be used in
## 	combination with a scope-aware thread manager (such as
## 	RealtimeJVM) In addtion to the standard mostly-copying
## 	options, this collector supports:

# @inheritdoc
-block-size 		thread-switch-byte-latency

##   -immortal-size defines the size of the ImmortalArea (default 30m).
-immortal-size 		"30m"

##   -scope-size defines the size of memory allocated for scopes and other
##   transient memory areas (default: same size as the heap);
-scope-size		heap-size

##   -disable-scope-checks suppresses IllegalAssignmentError and 
## 	MemoryAccessError generation.  Set this flag at your own peril.
-disable-scope-checks	"false"

# Add scope support to the context data structure.  
ovm.core.execution.Context$Factory	\
	ovm.core.services.memory.ScopedMemoryContext$Factory

# Provide a default memory policy that uses explicitly managed memory
# for efficency, but does not provide realtime guarentees
# ...
# Not sure about this.  What should the policy be?  Equate scratchpad
# with heap?
#ovm.core.services.memory.MemoryPolicy	\
#	ovm.core.services.memory.ScopedMemoryPolicy

ovm.core.services.memory.MemoryManager						\
 s3.services.memory.mostlyCopying.SplitRegionManager(heap-size,			\
						     immortal-size,		\
						     scope-size,		\
						     disable-scope-checks)
# # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # #


# # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # #
# Select the object model.  S3Model_B_M_F_H uses one word collocated with each
# object to store a blueprint reference, one to track monitor references, one
# to hold a forward address during collection, and one to hold the hash code
# (which can't be derived from the address after an object moves).  This is
# not a pleasingly space-efficient model.  But better ones can be implemented
# with the same functionality.
#
ovm.core.domain.ObjectModel		s3.core.domain.S3Model_B_M_F_H
# # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # #

ovm.core.services.memory.LocalReferenceIterator			\
	s3.services.memory.conservative.ConservativeLocalReferenceIterator
