## -model=MostlyCopyingWB-B_Mf_F_H Selects a moving conserative garbage 
## 	collector that uses a hardware write barrier limit root scanning, 
##      and turns on Ovm's fast lock implementation.

# We define helper files for passing parameters such as -block-size
# to a constructor, since block-size is not available in the scope of this 
# file.
ovm.core.services.memory.MemoryManager  \
 s3.services.memory.mostlyCopying.Manager(heap-size)
# # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # #


# # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # #
# Select the object model.  S3Model_B_M_F_H uses one word collocated with each
# object to store a blueprint reference, one to track monitor references, one
# to hold a forward address during collection, and one to hold the hash code
# (which can't be derived from the address after an object moves).  This is
# not a pleasingly space-efficient model.  But better ones can be implemented
# with the same functionality.
#
ovm.core.domain.ObjectModel		s3.core.domain.S3Model_B_Mf_F_H
# # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # #

ovm.core.services.memory.LocalReferenceIterator			\
	s3.services.memory.conservative.ConservativeLocalReferenceIterator

%include "fast-lock"
